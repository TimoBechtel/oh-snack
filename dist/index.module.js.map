{"version":3,"file":"index.module.js","sources":["../../src/index.js"],"sourcesContent":["import './main.scss';\nimport './defaultTheme.scss';\n\nconst snackContainer = {\n  topLeft: null,\n  topCenter: null,\n  topRight: null,\n  bottomRight: null,\n  bottomCenter: null,\n  bottomLeft: null,\n};\n\nconst createOrGetContainer = (position = 'bottomCenter') => {\n  if (!snackContainer[position]) {\n    snackContainer[position] = document.createElement('div');\n    snackContainer[\n      position\n    ].className = `oh-snack-container os-${position.toLowerCase()}`;\n    document.body.appendChild(snackContainer[position]);\n  }\n  return snackContainer[position];\n};\n\nconst createSnack = (\n  text,\n  { container, showAnimationClass = '', hideAnimationClass = '' }\n) => {\n  const element = document.createElement('div');\n  element.className = 'oh-snack';\n  const textElement = document.createElement('p');\n  textElement.innerHTML = text;\n  const content = document.createElement('div');\n  content.appendChild(textElement);\n  content.className = 'os-content';\n  element.appendChild(content);\n  container.appendChild(element);\n  return {\n    addTopping(htmlElement) {\n      content.appendChild(htmlElement);\n    },\n    show() {\n      element.classList.add(showAnimationClass);\n    },\n    hide() {\n      element.classList.add(hideAnimationClass);\n      setTimeout(() => {\n        this.destroy();\n      }, 500);\n    },\n    destroy() {\n      element.parentElement.removeChild(element);\n    },\n  };\n};\n\nconst createButton = (label, action) => {\n  const button = document.createElement('button');\n  button.innerHTML = label;\n  button.addEventListener('click', action);\n  return button;\n};\n\nexport const snack = (\n  text,\n  {\n    position = 'bottomCenter',\n    timeout = 2800,\n    closeable = !timeout,\n    showAnimationClass = 'os-show-default',\n    hideAnimationClass = 'os-hide-default',\n  } = {}\n) => {\n  const toast = createSnack(text, {\n    container: createOrGetContainer(position),\n    showAnimationClass,\n    hideAnimationClass,\n  });\n  let currentTimeout;\n  if (closeable) {\n    const button = createButton('&times;', () => {\n      clearTimeout(currentTimeout);\n      toast.hide();\n    });\n    button.className = 'os-close';\n    toast.addTopping(button);\n  }\n  toast.show();\n  if (timeout)\n    timeout = setTimeout(() => {\n      toast.hide();\n    }, timeout);\n};\n"],"names":["snackContainer","topLeft","topCenter","topRight","bottomRight","bottomCenter","bottomLeft","snack","text","position","timeout","closeable","showAnimationClass","hideAnimationClass","toast","container","element","document","createElement","className","textElement","innerHTML","content","appendChild","addTopping","htmlElement","show","classList","add","hide","setTimeout","_this","destroy","parentElement","removeChild","createSnack","toLowerCase","body","button","label","action","addEventListener","clearTimeout","currentTimeout","createButton"],"mappings":"AAGA,IAAMA,EAAiB,CACrBC,QAAS,KACTC,UAAW,KACXC,SAAU,KACVC,YAAa,KACbC,aAAc,KACdC,WAAY,MAqDDC,EAAQ,SACnBC,SAnD4BC,eA0DxB,SALFA,aACAC,QAAAA,aAAU,WACVC,UAAAA,cAAaD,QACbE,mBAAAA,aAAqB,wBACrBC,mBAAAA,aAAqB,oBAGjBC,EAjDY,SAClBN,SACEO,IAAAA,cAAWH,mBAAAA,aAAqB,SAAIC,mBAAAA,aAAqB,KAErDG,EAAUC,SAASC,cAAc,OACvCF,EAAQG,UAAY,WACpB,IAAMC,EAAcH,SAASC,cAAc,KAC3CE,EAAYC,UAAYb,EACxB,IAAMc,EAAUL,SAASC,cAAc,OAKvC,OAJAI,EAAQC,YAAYH,GACpBE,EAAQH,UAAY,aACpBH,EAAQO,YAAYD,GACpBP,EAAUQ,YAAYP,GACf,CACLQ,oBAAWC,GACTH,EAAQC,YAAYE,IAEtBC,gBACEV,EAAQW,UAAUC,IAAIhB,IAExBiB,2BACEb,EAAQW,UAAUC,IAAIf,GACtBiB,WAAW,WACTC,EAAKC,WACJ,MAELA,mBACEhB,EAAQiB,cAAcC,YAAYlB,KAsBxBmB,CAAY3B,EAAM,CAC9BO,WA7D0BN,aAqDf,0BArDeA,IAAAA,EAAW,gBAClCT,EAAeS,KAClBT,EAAeS,GAAYQ,SAASC,cAAc,OAClDlB,EACES,GACAU,mCAAqCV,EAAS2B,cAChDnB,SAASoB,KAAKd,YAAYvB,EAAeS,KAEpCT,EAAeS,IAsDpBG,mBAAAA,EACAC,mBAAAA,IAGF,GAAIF,EAAW,CACb,IAAM2B,EAxBW,SAACC,EAAOC,GAC3B,IAAMF,EAASrB,SAASC,cAAc,UAGtC,OAFAoB,EAAOjB,UAsBuB,UArB9BiB,EAAOG,iBAAiB,QAqBiB,WACrCC,kBAHAC,GAIA7B,EAAMe,SAtBHS,EAoBUM,GAIfN,EAAOnB,UAAY,WACnBL,EAAMU,WAAWc,GAEnBxB,EAAMY,OACFhB,IACFA,EAAUoB,WAAW,WACnBhB,EAAMe,QACLnB"}