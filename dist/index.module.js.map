{"version":3,"file":"index.module.js","sources":["../../src/index.js"],"sourcesContent":["import './main.scss';\nimport './defaultTheme.scss';\n\nlet snackContainer;\n\nconst createOrGetContainer = () => {\n  if (!snackContainer) {\n    snackContainer = document.createElement('div');\n    snackContainer.className = 'oh-snack-container';\n    document.body.appendChild(snackContainer);\n  }\n  return snackContainer;\n};\n\nconst createSnack = (text, parent) => {\n  const element = document.createElement('div');\n  element.className = 'oh-snack';\n  const textElement = document.createElement('p');\n  textElement.innerHTML = text;\n  const content = document.createElement('div');\n  content.appendChild(textElement);\n  content.className = 'os-content';\n  element.appendChild(content);\n  parent.appendChild(element);\n  return {\n    addTopping(htmlElement) {\n      content.appendChild(htmlElement);\n    },\n    show() {\n      element.className += ' os-show';\n    },\n    hide() {\n      element.className = element.className.replace('os-show', '');\n      setTimeout(() => {\n        this.destroy();\n      }, 500);\n    },\n    destroy() {\n      element.parentElement.removeChild(element);\n    },\n  };\n};\n\nconst createButton = (label, action) => {\n  const button = document.createElement('button');\n  button.innerHTML = label;\n  button.addEventListener('click', action);\n  return button;\n};\n\nexport const snack = (text, { timeout = 2800, closeable = !timeout } = {}) => {\n  const toast = createSnack(text, createOrGetContainer());\n  let currentTimeout;\n  if (closeable) {\n    const button = createButton('&times;', () => {\n      clearTimeout(currentTimeout);\n      toast.hide();\n    });\n    button.className = 'os-close';\n    toast.addTopping(button);\n  }\n  setTimeout(() => {\n    toast.show();\n    if (timeout)\n      timeout = setTimeout(() => {\n        toast.hide();\n      }, timeout);\n  }, 10);\n};\n"],"names":["snackContainer","snack","text","timeout","closeable","toast","parent","element","document","createElement","className","textElement","innerHTML","content","appendChild","addTopping","htmlElement","show","hide","replace","setTimeout","_this","destroy","parentElement","removeChild","createSnack","body","button","label","action","addEventListener","clearTimeout","currentTimeout","createButton"],"mappings":"AAGA,IAAIA,EA+CSC,EAAQ,SAACC,sBAAiD,SAAzCC,QAAAA,aAAU,WAAMC,UAAAA,cAAaD,IACnDE,EArCY,SAACH,EAAMI,GACzB,IAAMC,EAAUC,SAASC,cAAc,OACvCF,EAAQG,UAAY,WACpB,IAAMC,EAAcH,SAASC,cAAc,KAC3CE,EAAYC,UAAYV,EACxB,IAAMW,EAAUL,SAASC,cAAc,OAKvC,OAJAI,EAAQC,YAAYH,GACpBE,EAAQH,UAAY,aACpBH,EAAQO,YAAYD,GACpBP,EAAOQ,YAAYP,GACZ,CACLQ,oBAAWC,GACTH,EAAQC,YAAYE,IAEtBC,gBACEV,EAAQG,WAAa,YAEvBQ,2BACEX,EAAQG,UAAYH,EAAQG,UAAUS,QAAQ,UAAW,IACzDC,WAAW,WACTC,EAAKC,WACJ,MAELA,mBACEf,EAAQgB,cAAcC,YAAYjB,KAaxBkB,CAAYvB,GA7CrBF,KACHA,EAAiBQ,SAASC,cAAc,QACzBC,UAAY,qBAC3BF,SAASkB,KAAKZ,YAAYd,IAErBA,IA0CP,GAAII,EAAW,CACb,IAAMuB,EAXW,SAACC,EAAOC,GAC3B,IAAMF,EAASnB,SAASC,cAAc,UAGtC,OAFAkB,EAAOf,UASuB,UAR9Be,EAAOG,iBAAiB,QAQiB,WACrCC,kBAHAC,GAIA3B,EAAMa,SATHS,EAOUM,GAIfN,EAAOjB,UAAY,WACnBL,EAAMU,WAAWY,GAEnBP,WAAW,WACTf,EAAMY,OACFd,IACFA,EAAUiB,WAAW,WACnBf,EAAMa,QACLf,KACJ"}